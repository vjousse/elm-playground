<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>Main</title>

    <!-- style -->
    <link rel="stylesheet" href="assets/font-awesome/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="assets/material-design-icons/material-design-icons.css" type="text/css" />

    <link rel="stylesheet" href="assets/bootstrap/dist/css/bootstrap.min.css" type="text/css" />
    <!-- build:css ../assets/styles/app.min.css -->
    <link rel="stylesheet" href="assets/styles/app.css" type="text/css" />
    <!-- endbuild -->
    <link rel="stylesheet" href="assets/styles/font.css" type="text/css" />
</head>
<body>

    <div class="app" id="app">

        <!-- aside -->
        <div id="aside" class="app-aside modal fade nav-dropdown" ng-class="{'folded': app.setting.folded}">
            <!-- fluid app aside -->
            <div class="left navside dark dk" layout="column">
            <div class="navbar no-radius">
            </div>
            <div flex class="hide-scroll">
                <nav class="scroll nav-light">
                </nav>
            </div>
            <div flex-no-shrink class="b-t">
            </div>
            </div>
        </div>
        <!-- / -->

        <div id="content" class="app-content box-shadow-z0" role="main">
            <div id="elm"></div>
        </div>

    </div>

<script src="elm.js"></script>
<script>
var node = document.getElementById('elm');
var app = Elm.Main.embed(node, {mediaUrl: "http://localhost/lcp_q_gov.mp3", mediaType: "audio/mp3", toggleKeyCode: 32 });

app.ports.setCurrentTime.subscribe(function(time) {
    var audio = document.getElementById('audio-player');
    console.log("Time: " + time, audio);

    audio.currentTime = time;
});

app.ports.setPlaybackRate.subscribe(function(rate) {
    var audio = document.getElementById('audio-player');
    console.log("Rate: " + rate, audio);

    audio.playbackRate = rate;
});

app.ports.play.subscribe(function() {
    var audio = document.getElementById('audio-player');
    console.log("Play: ", audio);

    audio.play();
});

app.ports.pause.subscribe(function() {
    var audio = document.getElementById('audio-player');
    console.log("Pause: ", audio);

    audio.pause();
});
</script>

</body>
</html>
